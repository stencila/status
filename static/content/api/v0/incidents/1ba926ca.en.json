{"id":"1ba926ca","title":"Missing environment variable in router service","date":"2020-06-06T13:00:00.000Z","modified":"2021-05-04T01:09:43.599Z","scheduled":null,"severity":"major-outage","affectedsystems":["us-nw-1"],"resolved":true,"content":"<p>The <code>router</code> service failed due to the renaming of an environment variable necessary for the upcoming release of v3.0. This change was inadvertently deployed by our Flux-based continuous deployment.</p>\n<p>Automatic updates should have been turned off prior to the release of this change.\nThis has now been <a href=\"https://github.com/stencila/gaia/commit/b700327c73e3043d7146f6f3048b005daff0f669\" target=\"_blank\" rel=\"noopener noreferrer\" class=\"external\">done and all images pinned to version v2.32.1</a>.</p>\n<p>Within the <code>us-nw-1</code> cluster we are using Prometheus (deployed as the <code>monitor</code> service) for internal monitoring of services. However, <code>monitor</code> is not yet set up to monitor the <code>router</code> service. We are now using an external site monitoring service (Pingdom) to provide additional monitoring and alerting of https://hub.stenci.la.</p>\n"}