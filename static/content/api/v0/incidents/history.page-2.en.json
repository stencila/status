{"count":7,"page":2,"page_size":3,"total_pages":3,"periods":[{"id":"2020-7","incidents":[{"id":"96b8e9ee","title":"Data migration","date":"2020-07-14T04:55:15.612Z","modified":"2021-04-21T02:40:07.523Z","scheduled":null,"severity":"under-maintenance","affectedsystems":["us-nw-1","us-ce-1"],"resolved":true,"content":"<p>We are in the process of migrating the Hub from v2 centered on the <code>director</code> service and deployed on the <code>us-nw-1</code> cluster to v3 centered on the <code>manager</code> service (which replaced <code>director</code>) and deployed on the <code>us-ce-1</code> cluster.</p>\n"}],"order":10,"count":1},{"id":"2020-6","incidents":[{"id":"1ba926ca","title":"Missing environment variable in router service","date":"2020-06-06T13:00:00.000Z","modified":"2021-04-21T02:40:07.522Z","scheduled":null,"severity":"major-outage","affectedsystems":["us-nw-1"],"resolved":true,"content":"<p>The <code>router</code> service failed due to the renaming of an environment variable necessary for the upcoming release of v3.0. This change was inadvertently deployed by our Flux-based continuous deployment.</p>\n<p>Automatic updates should have been turned off prior to the release of this change.\nThis has now been <a href=\"https://github.com/stencila/gaia/commit/b700327c73e3043d7146f6f3048b005daff0f669\" target=\"_blank\" rel=\"noopener noreferrer\" class=\"external\">done and all images pinned to version v2.32.1</a>.</p>\n<p>Within the <code>us-nw-1</code> cluster we are using Prometheus (deployed as the <code>monitor</code> service) for internal monitoring of services. However, <code>monitor</code> is not yet set up to monitor the <code>router</code> service. We are now using an external site monitoring service (Pingdom) to provide additional monitoring and alerting of https://hub.stenci.la.</p>\n"}],"order":11,"count":1},{"id":"2020-5","incidents":[{"id":"22c742da","title":"Misconfiguration","date":"2020-05-06T06:08:24.873Z","modified":"2020-05-06T06:45:04.965Z","scheduled":null,"severity":"under-maintenance","affectedsystems":["us-nw-1"],"resolved":true,"content":"<p>A misconfiguration in the <code>router</code> service is preventing a rollover to v2.21.0. As far as we are aware this is not affecting any services.</p>\n<!--- language code: en -->\n<div class=\"update-block\">\n          <div class=\"update-block-date\">2020-05-06T06:45:04.965Z</div>\n          <div class=\"update-block-content\">\n            <div class=\"update-block-title\">Resolved</div>\n            <div class=\"update-block-body\">\n<p>The <code>router</code> service has been <a href=\"https://github.com/stencila/gaia/blob/573fe2ec9a6004dede2180256e1e21d8a89233f7/clusters/us-nw-1/flux/router-deployment.yaml#L72\" target=\"_blank\" rel=\"noopener noreferrer\" class=\"external\">rolled back to v2.20.7</a>. There was a temporary outage while we resolved this issue. The issue stemmed from the <code>monitor</code> service erroring due to a known issue with Prometheus.\nWe are looking into fixing that, but also ways to avoid the <code>router</code> baulking if an upstream service is unavailable as happened in this situation: <code> nginx: [emerg] host not found in upstream &quot;monitor&quot; in /etc/nginx/conf.d/default.conf:24</code>.</p>\n</div></div></div>\n"}],"order":12,"count":1}]}