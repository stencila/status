{"count":13,"page":2,"page_size":10,"total_pages":2,"incidents":[{"id":"1ba926ca","title":"Missing environment variable in router service","date":"2020-06-06T13:00:00.000Z","modified":"2021-07-03T02:08:55.187Z","scheduled":null,"severity":"major-outage","affectedsystems":["us-nw-1"],"resolved":true,"content":"<p>The <code>router</code> service failed due to the renaming of an environment variable necessary for the upcoming release of v3.0. This change was inadvertently deployed by our Flux-based continuous deployment.</p>\n<p>Automatic updates should have been turned off prior to the release of this change.\nThis has now been <a href=\"https://github.com/stencila/gaia/commit/b700327c73e3043d7146f6f3048b005daff0f669\" target=\"_blank\" rel=\"noopener noreferrer\" class=\"external\">done and all images pinned to version v2.32.1</a>.</p>\n<p>Within the <code>us-nw-1</code> cluster we are using Prometheus (deployed as the <code>monitor</code> service) for internal monitoring of services. However, <code>monitor</code> is not yet set up to monitor the <code>router</code> service. We are now using an external site monitoring service (Pingdom) to provide additional monitoring and alerting of https://hub.stenci.la.</p>\n"},{"id":"22c742da","title":"Misconfiguration","date":"2020-05-06T06:08:24.873Z","modified":"2020-05-06T06:45:04.965Z","scheduled":null,"severity":"under-maintenance","affectedsystems":["us-nw-1"],"resolved":true,"content":"<p>A misconfiguration in the <code>router</code> service is preventing a rollover to v2.21.0. As far as we are aware this is not affecting any services.</p>\n<!--- language code: en -->\n<div class=\"update-block\">\n          <div class=\"update-block-date\">2020-05-06T06:45:04.965Z</div>\n          <div class=\"update-block-content\">\n            <div class=\"update-block-title\">Resolved</div>\n            <div class=\"update-block-body\">\n<p>The <code>router</code> service has been <a href=\"https://github.com/stencila/gaia/blob/573fe2ec9a6004dede2180256e1e21d8a89233f7/clusters/us-nw-1/flux/router-deployment.yaml#L72\" target=\"_blank\" rel=\"noopener noreferrer\" class=\"external\">rolled back to v2.20.7</a>. There was a temporary outage while we resolved this issue. The issue stemmed from the <code>monitor</code> service erroring due to a known issue with Prometheus.\nWe are looking into fixing that, but also ways to avoid the <code>router</code> baulking if an upstream service is unavailable as happened in this situation: <code> nginx: [emerg] host not found in upstream &quot;monitor&quot; in /etc/nginx/conf.d/default.conf:24</code>.</p>\n</div></div></div>\n"},{"id":"218de212","title":"Continuous deployment setup","date":"2020-04-24T22:16:47.849Z","modified":"2020-05-04T06:07:17.715Z","scheduled":null,"severity":"under-maintenance","affectedsystems":["us-nw-1"],"resolved":true,"content":"<p>We are in the process of setting up our new system continuous deployment and status reports. Until this is complete, deployments will be done using our legacy system and this status page will be show &quot;Under Maintenance&quot;.</p>\n<!--- language code: en -->\n<div class=\"update-block\">\n          <div class=\"update-block-date\">2020-04-24T22:34:31.677Z</div>\n          <div class=\"update-block-content\">\n            <div class=\"update-block-title\">Fix</div>\n            <div class=\"update-block-body\">\n<p>We have <a href=\"https://github.com/stencila/gaia/commit/af0ffe61dca99abcbd9c572926dbafe781771b90\" target=\"_blank\" rel=\"noopener noreferrer\" class=\"external\">resolved an issue</a> with publishing of the status page caused by the <code>CNAME</code> file being overwritten.</p>\n</div></div></div>\n<div class=\"update-block\">\n          <div class=\"update-block-date\">2020-05-03T22:20:59.056Z</div>\n          <div class=\"update-block-content\">\n            <div class=\"update-block-title\">Infrastructure</div>\n            <div class=\"update-block-body\">\n<p>The <code>us-nw-1</code> cluster has been created in Google Cloud Platform's <code>us-west1-a</code> availability zone and we are beginning deployment to it.\nWhen complete https://hub.stenci.la will be switch to point to this new cluster and we expect any disruption to service to be minimal.</p>\n</div></div></div>\n<div class=\"update-block\">\n          <div class=\"update-block-date\">2020-05-03T22:20:59.056Z</div>\n          <div class=\"update-block-content\">\n            <div class=\"update-block-title\">Complete</div>\n            <div class=\"update-block-body\">\n<p>Initial deployment of Hub (v2.20.3) to the <code>us-nw-1</code> cluster has been completed.</p>\n</div></div></div>\n"}]}